

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Path &mdash; dman 1.0.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-binder.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-dataframe.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sg_gallery-rendered-html.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Log" href="log.html" />
    <link rel="prev" title="Storables" href="storables.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> dman
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/misc/example0_common.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../gallery/cases/index.html">Case Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gallery/patterns/index.html">Design Patterns</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../gallery/fundamentals/index.html">Fundamentals</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Modules</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="modules.html#core">Core</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="serializables.html">Serializables</a></li>
<li class="toctree-l3"><a class="reference internal" href="storables.html">Storables</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Path</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.Config"><code class="docutils literal notranslate"><span class="pre">Config</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.RootError"><code class="docutils literal notranslate"><span class="pre">RootError</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.script_label"><code class="docutils literal notranslate"><span class="pre">script_label()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.normalize_path"><code class="docutils literal notranslate"><span class="pre">normalize_path()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.TargetException"><code class="docutils literal notranslate"><span class="pre">TargetException</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.Target"><code class="docutils literal notranslate"><span class="pre">Target</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.target"><code class="docutils literal notranslate"><span class="pre">target()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.gitignore"><code class="docutils literal notranslate"><span class="pre">gitignore()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.prune_directories"><code class="docutils literal notranslate"><span class="pre">prune_directories()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.UserQuitException"><code class="docutils literal notranslate"><span class="pre">UserQuitException</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.MountException"><code class="docutils literal notranslate"><span class="pre">MountException</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.Mount"><code class="docutils literal notranslate"><span class="pre">Mount</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#dman.core.path.mount"><code class="docutils literal notranslate"><span class="pre">mount()</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="log.html">Log</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="modules.html#model-types">Model Types</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">dman</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">Modules</a> &raquo;</li>
        
      <li>Path</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/api/path.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="module-dman.core.path">
<span id="path"></span><h1>Path<a class="headerlink" href="#module-dman.core.path" title="Permalink to this heading">¶</a></h1>
<p>Contains path handling systems used internally by <code class="docutils literal notranslate"><span class="pre">dman</span></code>.</p>
<dl class="py class">
<dt class="sig sig-object py" id="dman.core.path.Config">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">Config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">on_retouch</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ignore'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_suffix</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.sto'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Configuration class for path handling.</p>
<blockquote>
<div><p>This class has a global instance that can be accessed as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dman</span><span class="o">.</span><span class="n">core</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">on_retouch</span> <span class="o">=</span> <span class="s1">&#39;prompt&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dman</span><span class="o">.</span><span class="n">params</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">on_retouch</span> <span class="o">=</span> <span class="s1">&#39;prompt&#39;</span>  <span class="c1"># equivalent</span>
</pre></div>
</div>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>on_retouch</strong> (<em>str</em><em>, </em><em>optional</em>) – Procedure handling re-used file names.
Options are <code class="docutils literal notranslate"><span class="pre">'prompt'</span></code>, <code class="docutils literal notranslate"><span class="pre">'quit'</span></code>, <code class="docutils literal notranslate"><span class="pre">'ignore'</span></code>, <code class="docutils literal notranslate"><span class="pre">'auto'</span></code>.
Defaults to <code class="docutils literal notranslate"><span class="pre">'ignore'</span></code>.</p></li>
<li><p><strong>default_suffix</strong> (<em>str</em><em>, </em><em>optional</em>) – Default suffix used for files when none is specified.
Defaults to <code class="docutils literal notranslate"><span class="pre">'.sto'</span></code>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="dman.core.path.RootError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">RootError</span></span><a class="reference internal" href="../_modules/dman/core/path.html#RootError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.RootError" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when no <code class="docutils literal notranslate"><span class="pre">.dman</span></code> directory could be found.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dman.core.path.script_label">
<span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">script_label</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">PathLike</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#script_label"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.script_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a label for the current executing script.</p>
<p>Takes the path relative to the folder containing <code class="docutils literal notranslate"><span class="pre">.dman</span></code> and
replaces the separators with <code class="docutils literal notranslate"><span class="pre">:</span></code>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dman.core.path.normalize_path">
<span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">normalize_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#normalize_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.normalize_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Simplify path string relative to folder containing
<code class="docutils literal notranslate"><span class="pre">.dman</span></code> to be used for printing.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="dman.core.path.TargetException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">TargetException</span></span><a class="reference internal" href="../_modules/dman/core/path.html#TargetException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.TargetException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when an invalid target file is encountered.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dman.core.path.Target">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">Target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stem:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdir:</span> <span class="pre">~os.PathLike</span> <span class="pre">=</span> <span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Target" title="Permalink to this definition">¶</a></dt>
<dd><p>Object representing file relative to current folder.</p>
<dl class="py property">
<dt class="sig sig-object py" id="dman.core.path.Target.name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#dman.core.path.Target.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Target.from_path">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Target.from_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Target.from_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a target from a relative path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Target.from_tuple">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_tuple</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Target.from_tuple"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Target.from_tuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a target from a tuple (subdir, stem, suffix).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Target.is_complete">
<span class="sig-name descname"><span class="pre">is_complete</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Target.is_complete"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Target.is_complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the target completely specified.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Target.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Target.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Target.merge" title="Permalink to this definition">¶</a></dt>
<dd><p>Merge target with others.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Target</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test.json&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">Target</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;.obj&#39;</span><span class="p">),</span> <span class="n">Target</span><span class="p">(</span><span class="n">subdir</span><span class="o">=</span><span class="s1">&#39;folder&#39;</span><span class="p">))</span>
<span class="go">folder/test.obj</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Target</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test.json&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">Target</span><span class="p">(</span><span class="n">subdir</span><span class="o">=</span><span class="s1">&#39;folder&#39;</span><span class="p">),</span> <span class="n">Target</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;.obj&#39;</span><span class="p">))</span>
<span class="go">test.obj</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Target</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;test.json&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">Target</span><span class="p">(</span><span class="n">subdir</span><span class="o">=</span><span class="s1">&#39;folder&#39;</span><span class="p">),</span> <span class="n">Target</span><span class="p">(</span><span class="n">suffix</span><span class="o">=</span><span class="s1">&#39;.obj&#39;</span><span class="p">,</span> <span class="n">subdir</span><span class="o">=</span><span class="n">AUTO</span><span class="p">))</span>
<span class="go">folder/test.obj</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Target.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stem:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdir:</span> <span class="pre">~os.PathLike</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Target.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Target.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update parts of target.
See also <a class="reference internal" href="#dman.core.path.Target.merge" title="dman.core.path.Target.merge"><code class="xref py py-func docutils literal notranslate"><span class="pre">merge()</span></code></a>.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dman.core.path.target">
<span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">target</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stem:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">&lt;dman.core.path._Auto</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdir:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#target"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.target" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Get a target path used for relative file definitions.</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;subdir&gt;/&lt;stem&gt;.&lt;suffix&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">&lt;subdir&gt;/&lt;name&gt;</span></code></p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – Both name and suffix or stem were provided.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dman.core.path.gitignore">
<span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">gitignore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignored</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#gitignore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.gitignore" title="Permalink to this definition">¶</a></dt>
<dd><p>Add ignored files to gitignore in provided directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>os.PathLike</em>) – Directory to add <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code> file to.</p></li>
<li><p><strong>ignored</strong> (<em>Iterable</em>) – Files to add to current <code class="docutils literal notranslate"><span class="pre">.gitignore</span></code>.</p></li>
<li><p><strong>check</strong> (<em>Iterable</em><em>, </em><em>optional</em>) – Check whether these files still exists. If not, don’t add them.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dman.core.path.prune_directories">
<span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">prune_directories</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#prune_directories"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.prune_directories" title="Permalink to this definition">¶</a></dt>
<dd><p>Prune all empty directories contained within this one.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="dman.core.path.UserQuitException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">UserQuitException</span></span><a class="reference internal" href="../_modules/dman/core/path.html#UserQuitException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.UserQuitException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a file was re-used by a mount point and the quit option was selected.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="dman.core.path.MountException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">MountException</span></span><a class="reference internal" href="../_modules/dman/core/path.html#MountException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.MountException" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when a file is accessed outside of a mount point.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="dman.core.path.Mount">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">Mount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gitignore</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount" title="Permalink to this definition">¶</a></dt>
<dd><p>Mount point used as start of file hierarchy.</p>
<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.contains">
<span class="sig-name descname"><span class="pre">contains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.contains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.contains" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the specified path contained within this mount point.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.abspath">
<span class="sig-name descname"><span class="pre">abspath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.abspath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.abspath" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the absolute path</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – The path is not contained within this FileSystem.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.normalize">
<span class="sig-name descname"><span class="pre">normalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.normalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.normalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a target based on the path relative to this mount point.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.default">
<span class="sig-name descname"><span class="pre">default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dman.core.path.Target" title="dman.core.path.Target"><span class="pre">Target</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Get default suggestion for target.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#dman.core.path.Target" title="dman.core.path.Target"><span class="pre">Target</span></a></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a target in the mount point.</p>
<p>It avoids registering a target multiple times.
The behavior is determined by <code class="docutils literal notranslate"><span class="pre">config.on_retouch</span></code> or the value in <cite>choice</cite>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">'prompt'</span></code>: Prompt the user for a different file name.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'quit'</span></code>: Raise a <a class="reference internal" href="#dman.core.path.UserQuitException" title="dman.core.path.UserQuitException"><code class="xref py py-class docutils literal notranslate"><span class="pre">UserQuitException</span></code></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'ignore'</span></code>: Override the existing file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">'auto'</span></code>: Add an index to the file name to make it unique.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.prepare">
<span class="sig-name descname"><span class="pre">prepare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">choice</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.prepare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Prepare directory to write to target path.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.close" title="Permalink to this definition">¶</a></dt>
<dd><p>Close this mount point.</p>
<p>Empty subdirectories are deleted and a gitignore is created if
requested on creation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.open">
<span class="sig-name descname"><span class="pre">open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.open" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a file, registered by this mount point.</p>
<p>The signature is identical to the standard <code class="docutils literal notranslate"><span class="pre">open</span></code> command.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.untrack">
<span class="sig-name descname"><span class="pre">untrack</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.untrack"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.untrack" title="Permalink to this definition">¶</a></dt>
<dd><p>Untrack a registered file. Afterwards it can be overridden without issues.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="dman.core.path.Mount.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">validate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#Mount.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.Mount.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a file from the mount point and stop tracking it.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="dman.core.path.mount">
<span class="sig-prename descclassname"><span class="pre">dman.core.path.</span></span><span class="sig-name descname"><span class="pre">mount</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subdir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">PathLike</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cluster</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">generator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">PathLike</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gitignore</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/dman/core/path.html#mount"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#dman.core.path.mount" title="Permalink to this definition">¶</a></dt>
<dd><dl>
<dt>Get the mount point where a file with the given key is stored by dman.</dt><dd><p>The path of the file is determined as described below.</p>
<blockquote>
<div><p>If the files are clustered then the path is <code class="docutils literal notranslate"><span class="pre">&lt;base&gt;/&lt;generator&gt;/&lt;subdir&gt;/&lt;key&gt;/&lt;key&gt;.&lt;ext&gt;</span></code>
If cluster is set to False then the path is <code class="docutils literal notranslate"><span class="pre">&lt;base&gt;/&lt;generator&gt;/&lt;subdir&gt;/&lt;key&gt;.&lt;ext&gt;</span></code></p>
<p>When base is not provided then it is set to .dman if
it does not exist an exception is raised.</p>
<p>When generator is not provided it will automatically be set based on
the location of the script relative to the .dman folder
(again raising an exception if it is not found). For example
if the script is located in <code class="docutils literal notranslate"><span class="pre">&lt;project-root&gt;/examples/folder/script.py</span></code>
and .dman is located in <code class="docutils literal notranslate"><span class="pre">&lt;project-root&gt;/.dman</span></code>.
Then generator is set to cache/examples:folder:script (i.e.
the / is replaced by : in the output).</p>
<p>See <a class="reference internal" href="../gallery/fundamentals/example4_path.html#sphx-glr-gallery-fundamentals-example4-path-py"><span class="std std-ref">Mounting and Targets</span></a> for
detailed examples on how to create and use mount points.</p>
</div></blockquote>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>key</strong> (<em>str</em><em>, </em><em>optional</em>) – Key for the file. Default <code class="docutils literal notranslate"><span class="pre">''</span></code>, so the generator folder is returned.</p></li>
<li><p><strong>subdir</strong> (<em>os.PathLike</em><em>, </em><em>optional</em>) – Specifies optional subdirectory in generator folder. Defaults to “”.</p></li>
<li><p><strong>cluster</strong> (<em>bool</em><em>, </em><em>optional</em>) – A subfolder <code class="docutils literal notranslate"><span class="pre">key</span></code> is automatically created when set to True. Defaults to True.</p></li>
<li><p><strong>generator</strong> (<em>str</em><em>, </em><em>optional</em>) – Specifies the generator that created the file. Defaults to script label.</p></li>
<li><p><strong>base</strong> (<em>os.PathLike</em><em>, </em><em>optional</em>) – Specifies the root folder. Defaults to “.dman”.</p></li>
<li><p><strong>gitignore</strong> (<em>bool</em><em>, </em><em>optional</em>) – Specifies whether files added to this mount point should be ignored.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="log.html" class="btn btn-neutral float-right" title="Log" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="storables.html" class="btn btn-neutral float-left" title="Storables" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Peter Coppens.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>